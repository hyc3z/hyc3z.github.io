<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/docs/intro/blog/rss.xml" title="Hyc3z&#39;s blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs/intro/blog/atom.xml" title="Hyc3z&#39;s blog Atom Feed"><title data-react-helmet="true">MongoDB | Hyc3z&#x27;s blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://hyc3z.github.io/docs/intro/docs/database/mongodb"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="MongoDB | Hyc3z&#x27;s blog"><meta data-react-helmet="true" name="description" content="çŸ¥è¯†ç¯‡"><meta data-react-helmet="true" property="og:description" content="çŸ¥è¯†ç¯‡"><link data-react-helmet="true" rel="icon" href="/docs/intro/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hyc3z.github.io/docs/intro/docs/database/mongodb"><link data-react-helmet="true" rel="alternate" href="https://hyc3z.github.io/docs/intro/docs/database/mongodb" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://hyc3z.github.io/docs/intro/docs/database/mongodb" hreflang="x-default"><link rel="stylesheet" href="/docs/intro/assets/css/styles.98273567.css">
<link rel="preload" href="/docs/intro/assets/js/runtime~main.20e46fe7.js" as="script">
<link rel="preload" href="/docs/intro/assets/js/main.5f907212.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/intro/"><div class="navbar__logo"><img src="/docs/intro/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docs/intro/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Hyc3z&#x27;s blog</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro/docs/intro">Notes</a><a class="navbar__item navbar__link" href="/docs/intro/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hyc3z" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Hyc3z<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ğŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ğŸŒ</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro/docs/intro">intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/intro/docs/ai/deep_learning">ai</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/intro/docs/big-data/hadoop">big-data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/intro/docs/cpp/pcal">cpp</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/intro/docs/data/data_science">data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/intro/docs/database/Oracle">database</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/intro/docs/database/Oracle">Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/intro/docs/database/database_internals">Database Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/intro/docs/database/mongodb">MongoDB</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/intro/docs/design/microservices">design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/intro/docs/blockchain/Chainlink">blockchain</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/intro/docs/cryptography/overview">cryptography</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/docs/intro/docs/git/">git</a><button aria-label="Toggle the collapsible sidebar category &#x27;git&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/intro/docs/python/re">python</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/intro/docs/graph/graph-database">graph</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/intro/docs/ts/typescript">ts</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>MongoDB</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="çŸ¥è¯†ç¯‡">çŸ¥è¯†ç¯‡<a class="hash-link" href="#çŸ¥è¯†ç¯‡" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="document">Document<a class="hash-link" href="#document" title="Direct link to heading">â€‹</a></h3><p>MongoDB åŸºæœ¬å­˜å‚¨å•å…ƒç±»å‹ä¸ºDocumentï¼Œæ˜¯ä»¥BSONä¸ºæ ¼å¼å­˜å‚¨çš„ã€‚</p><p>ä¸€ä¸ªæ•°æ®åº“æœ‰å¤šä¸ªcollectionï¼Œæ¯ä¸ªcollectionä¸­æœ‰å¤šä¸ªdocument</p><p>documentçš„æ ¼å¼ï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field: value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>_id ä»£è¡¨ObjectIdï¼Œæ˜¯å”¯ä¸€çš„ã€12å­—èŠ‚é•¿åº¦ã€ç”Ÿæˆçš„æ ‡è¯†</p><ul><li>a 4-byte <em>timestamp value</em>, representing the ObjectId&#x27;s creation, measured in seconds since the Unix epoch</li><li>a 5-byte <em>random value</em> generated once per process. This random value is unique to the machine and process.</li><li>a 3-byte <em>incrementing counter</em>, initialized to a random value</li></ul><p>ObjectIdæœ‰ä¸¤ä¸ªå¾ˆæœ‰æ„æ€çš„åœ°æ–¹ï¼Œå› ä¸ºå®ƒç”¨åˆ°äº†æ—¶é—´æˆ³ï¼Œä½†æ˜¯ç²’åº¦æ˜¯ä¸€ç§’ã€‚å› æ­¤ä¸€ç§’å†…ç”Ÿæˆçš„å¤šä¸ªObjectIdæ˜¯å…ˆåä¸å®šçš„ã€‚è€Œä¸”ï¼Œç”±äºæ˜¯Clientç”Ÿæˆï¼Œä¹Ÿä¼šå—åˆ°ç³»ç»Ÿæ—¶é—´çš„å½±å“ã€‚</p><p>åœ¨documentçš„é”®åä¸­ï¼Œä¸èƒ½ç”¨_idã€‚</p><p>å½“ç„¶ï¼Œç”±äºç±»ä¼¼jsonçš„ç‰¹æ€§ï¼Œ_idæ˜¯å…è®¸æœ‰å­documentçš„ï¼Œå­é”®åä¸èƒ½ä»¥$å¼€å¤´ã€‚</p><ul><li><p>The field name <code>_id</code> is reserved for use as a primary key; its value must be unique in the collection, is immutable, and may be of any type other than an array. If the <code>_id</code> contains subfields, the subfield names cannot begin with a (<code>$</code>) symbol.</p></li><li><p>Field names <strong>cannot</strong> contain the <code>null</code> character.</p></li><li><p>The server permits storage of field names that contain dots (<code>.</code>) and dollar signs (<code>$</code>).</p></li><li><p>MongodB 5.0 adds improved support for the use of (<code>$</code>) and (<code>.</code>) in field names. There are some restrictions. See <a href="https://docs.mongodb.com/manual/core/dot-dollar-considerations/#std-label-crud-concepts-dot-dollar-considerations" target="_blank" rel="noopener noreferrer">Field Name Considerations</a> for more details.</p></li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   name: { first: &quot;Alan&quot;, last: &quot;Turing&quot; },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   contact: { phone: { type: &quot;cell&quot;, number: &quot;111-222-3333&quot; } },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¦‚æœè¦è·å–åˆ° Alançš„number, ç”¨&#x27;.&#x27;æ¥è¡¨ç¤ºå­document:<code>contact.phone.number</code></p><p>BSON Documentæœ€å¤§ä¸è¶…è¿‡<strong>16MB</strong>ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªå¤§å°å°±éœ€è¦ç”¨GridFS <a href="https://docs.mongodb.com/database-tools/mongofiles/#mongodb-binary-bin.mongofiles" target="_blank" rel="noopener noreferrer">mongofiles</a>.</p><p>å’ŒJSONä¸åŒçš„æ˜¯ï¼ŒBSONæ–‡ä»¶ä¸­çš„é”®å€¼å¯¹æ˜¯æœ‰åºçš„ã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="å®‰è£…ç¯‡">å®‰è£…ç¯‡<a class="hash-link" href="#å®‰è£…ç¯‡" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="mac">Mac<a class="hash-link" href="#mac" title="Direct link to heading">â€‹</a></h3><p>macOS Monterey:</p><p>ä½¿ç”¨brewå®‰è£…ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">brew tap mongodb/brew</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew install mongodb-community@4.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew services start mongodb-community@4.4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¸‰å¥è¯å°±å¯ä»¥äº†ã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="ä½¿ç”¨ç¯‡">ä½¿ç”¨ç¯‡<a class="hash-link" href="#ä½¿ç”¨ç¯‡" title="Direct link to heading">â€‹</a></h2><p>é€šå¸¸é»˜è®¤ç«¯å£ä¸º27017ã€‚è¿æ¥æ—¶ä¸éœ€è¦ç”¨æˆ·åå¯†ç </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="typeorm">TypeORM<a class="hash-link" href="#typeorm" title="Direct link to heading">â€‹</a></h3><p>å‚è€ƒ<a href="https://github.com/typeorm/typeorm/blob/master/docs/mongodb.md" target="_blank" rel="noopener noreferrer">README</a></p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">@Entity()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class User {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ObjectIdColumn()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id: ObjectID;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Column()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Column()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¦‚æœè¦å’ŒMysqlå…¼å®¹ï¼Œå¯ä»¥å°†ObjectIDçš„æ ‡è¯†åæ”¹ä¸ºUserIdï¼Œä¸å½±å“ï¼Œå®é™…å­˜å‚¨æ—¶é”®åä¾ç„¶ä¸º_id.</p><p>@ObjectIdColumn()
UserId: ObjectID;</p><p>è‡ªå·±ç”¨çš„æ—¶å€™ï¼Œ127è¿ä¸ä¸Šï¼Œ0.0.0.0å°±å¯ä»¥è¿ã€‚</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/database/mongodb.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/intro/docs/database/database_internals"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Database Basics</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/intro/docs/design/microservices"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Microservices Patterns</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#çŸ¥è¯†ç¯‡" class="table-of-contents__link toc-highlight">çŸ¥è¯†ç¯‡</a><ul><li><a href="#document" class="table-of-contents__link toc-highlight">Document</a></li></ul></li><li><a href="#å®‰è£…ç¯‡" class="table-of-contents__link toc-highlight">å®‰è£…ç¯‡</a><ul><li><a href="#mac" class="table-of-contents__link toc-highlight">Mac</a></li></ul></li><li><a href="#ä½¿ç”¨ç¯‡" class="table-of-contents__link toc-highlight">ä½¿ç”¨ç¯‡</a><ul><li><a href="#typeorm" class="table-of-contents__link toc-highlight">TypeORM</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/docs/intro/assets/js/runtime~main.20e46fe7.js"></script>
<script src="/docs/intro/assets/js/main.5f907212.js"></script>
</body>
</html>